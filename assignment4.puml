@startuml

!define RESOURCE #AAFFAA
!define EVENT #FFAA00

note as N1
R:Resource
E:Event
end note

/'
# 課題4

ある施設内で利用する業務システムを設計するにあたって、以下の要件にもとづいてデータモデル設計をしたい。

- 患者の体温、脈拍、血圧（上下）を定期的に記録したい（記録は朝晩行うこともあるし、日次で行うこともある）
- 体温と脈拍だけ記録することもある
- 誰が計測したかは記録として残したい
- このとき各計測項目に対して、最新の値と計測者を取得できるようなモデル設計したい
'/

entity "患者" as patient <<R,RESOURCE>> {
  + 患者ID
  --
  患者名
}

entity "計測者" as measurer <<R,RESOURCE>> {
  + 計測者ID
  --
  計測者名
}

entity "計測" as measure <<E,EVENT>> {
  + 計測ID
  --
  # 計測者ID
  # 患者ID
  計測日時
}

entity "血圧" as blood_pressure <<E,EVENT>> {
  + 血圧ID
  --
  # 計測ID
  血圧
}

entity "体温" as body_temperature <<E,EVENT>> {
  + 体温ID
  --
  # 計測ID
  体温
}

entity "脈拍" as pulse <<E,EVENT>> {
  + 脈拍ID
  --
  # 計測ID
  脈拍
}

patient-d-{measure
measurer-d-{measure

/'取り直しを考慮し、has_many'/
measure-d-{blood_pressure
measure-d-{body_temperature
measure-d-{pulse

@enduml
